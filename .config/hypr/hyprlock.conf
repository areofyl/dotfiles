# Hyprlock - Clean Dashboard
# Catppuccin Mocha theme

$font = JetBrainsMono Nerd Font
$font_mono = JetBrainsMono Nerd Font Mono

# Catppuccin Mocha colors
$bg = rgb(17, 17, 27)
$fg = rgb(205, 214, 244)
$fg_dim = rgb(108, 112, 134)
$accent = rgb(137, 180, 250)
$accent2 = rgb(245, 194, 231)
$green = rgb(166, 227, 161)
$yellow = rgb(249, 226, 175)
$red = rgb(243, 139, 168)
$surface = rgb(49, 50, 68)

general {
    grace = 1
    fractional_scaling = 2
    immediate_render = true
}

background {
    monitor =
    path = $HOME/.config/hypr/wallpaper_effects/.wallpaper_current
    color = $bg
    blur_size = 6
    blur_passes = 3
    noise = 0.01
    contrast = 1.0
    brightness = 0.5
    vibrancy = 0.2
}

# ============ CLOCK ============

label {
    monitor =
    text = cmd[update:1000] date +"%H:%M:%S"
    color = $fg
    font_size = 130
    font_family = $font_mono ExtraBold
    position = 0, 250
    halign = center
    valign = center
}

label {
    monitor =
    text = cmd[update:60000] date +"%A, %B %d"
    color = $fg_dim
    font_size = 26
    font_family = $font
    position = 0, 140
    halign = center
    valign = center
}

# ============ SUN TZU QUOTE ============

label {
    monitor =
    text = cmd[update:0] echo "\"$($HOME/.config/hypr/scripts/RandomQuote.sh)\""
    color = $accent
    font_size = 16
    font_family = $font Italic
    position = 0, 70
    halign = center
    valign = center
}

label {
    monitor =
    text = — Sun Tzu, The Art of War
    color = $fg_dim
    font_size = 12
    font_family = $font Italic
    position = 0, 40
    halign = center
    valign = center
}

# ============ INFO ROW ============

# Left - System Stats
label {
    monitor =
    text = cmd[update:2000] echo "󰻠 $(top -bn1 | grep 'Cpu(s)' | awk '{printf \"%.0f\", $2}')%   󰍛 $(free | awk '/Mem:/ {printf \"%.0f\", $3/$2*100}')%   󰋊 $(df / | awk 'NR==2 {print $5}')"
    color = $fg
    font_size = 14
    font_family = $font_mono
    position = -250, -20
    halign = center
    valign = center
}

# Center - Battery
label {
    monitor =
    text = cmd[update:5000] cat /sys/class/power_supply/macsmc-battery/capacity 2>/dev/null | xargs -I{} echo "󰁹 {}%"
    color = $green
    font_size = 22
    font_family = $font_mono Bold
    position = 0, -20
    halign = center
    valign = center
}

# Right - Network
label {
    monitor =
    text = cmd[update:5000] nmcli -t -f active,ssid dev wifi 2>/dev/null | grep '^yes' | cut -d: -f2 | xargs -I{} echo "󰤨  {}" || echo "󰤭  Disconnected"
    color = $accent
    font_size = 16
    font_family = $font
    position = 250, -20
    halign = center
    valign = center
}

# ============ USER & PASSWORD ============

label {
    monitor =
    text =
    color = $accent2
    font_size = 50
    font_family = $font
    position = 0, -120
    halign = center
    valign = center
}

label {
    monitor =
    text = $USER
    color = $fg
    font_size = 20
    font_family = $font Bold
    position = 0, -180
    halign = center
    valign = center
}

input-field {
    monitor =
    size = 280, 50
    outline_thickness = 3
    dots_size = 0.3
    dots_spacing = 0.15
    dots_center = true
    outer_color = rgba(137, 180, 250, 0.5)
    inner_color = rgba(30, 30, 46, 0.95)
    font_color = $fg
    fade_on_empty = false
    font_family = $font
    placeholder_text =
    hide_input = false
    position = 0, -250
    halign = center
    valign = center
    rounding = 25
    check_color = $green
    fail_color = $red
    fail_text = <span foreground="#f38ba8">󰅜 Wrong password</span>
    fail_transition = 300
    capslock_color = $yellow
}
